swagger: "2.0"
info:
  description: ""
  version: "1.0.0"
  title: "PrivyID - General API Documentation"
host: "petstore.swagger.io"
schemes:
- "https"
- "http"

paths:
  /register:
    post:
      tags:
      - "API Reference Register"
      summary: ""
      description: ""
      operationId: ""
      consumes:
      - "application/json"
      - "application/xml"
      produces:
      - "application/xml"
      - "application/json"
      parameters:
      - in: "header"
        name: "Content-Type"
        description: "Content of your request body. e.g: application/json"
        type: string
        required: false
      - in: "header"
        name: "Request-ID"
        description: "Unique identifier request generate by merchant, format: 16 integer"
        type: string
        required: false
      - in: "header"
        name: "Timestamp"
        description: "Timestamp generated by merchant in ISO 8601 format: yyyy-MM-ddTHH:mm:ssZ e.g."
        type: string
        required: false
      - in: "header"
        name: "Signature"
        description: "Signature is used by Merchant to verify that your request is not altered by attackers"
        type: string
        required: false
      - in: "header"
        name: "Authorization"
        description: "Using bearer authorization"
        type: string
        required: false
      - in: "body"
        name: "body"
        description: ""
        required: true
        schema: 
          $ref: "#/definitions/registerfullAPI"
      responses:
        "201":
          description: "Success"
        "422":
          description: "Invalid Param"
        "500":
          description: "Server Error"
        "401":
          description: "Invalid auth"

  /regist:  
    post:
      tags:
      - "API Reference Register"
      summary: ""
      description: ""
      operationId: ""
      consumes:
      - "application/json"
      - "application/xml"
      produces:
      - "application/xml"
      - "application/json"
      parameters:
      - in: "header"
        name: "Content-Type"
        description: "Content of your request body. e.g: application/json"
        type: string
        required: false
      - in: "header"
        name: "Request-ID"
        description: "Unique identifier request generate by merchant, format: 16 integer"
        type: string
        required: false
      - in: "header"
        name: "Timestamp"
        description: "Timestamp generated by merchant in ISO 8601 format: yyyy-MM-ddTHH:mm:ssZ e.g."
        type: string
        required: false
      - in: "header"
        name: "Signature"
        description: "Signature is used by Merchant to verify that your request is not altered by attackers"
        type: string
        required: false
      - in: "header"
        name: "Authorization"
        description: "Using bearer authorization"
        type: string
        required: false
      - in: "body"
        name: "body"
        description: ""
        required: true
        schema: 
          $ref: "#/definitions/registerLandingPageFromPrivyID"
      responses:
        "201":
          description: "Success"
        "422":
          description: "Invalid Param"
        "500":
          description: "Server Error"
        "401":
          description: "Invalid auth"
  
  /callback_url:    
    post:
      tags:
      - "API Reference Register"
      summary: ""
      description: ""
      operationId: ""
      consumes:
      - "application/json"
      - "application/xml"
      produces:
      - "application/xml"
      - "application/json"
      parameters:
      - in: "header"
        name: "Content-Type"
        description: "Content of your request body. e.g: application/json"
        type: string
        required: false
      - in: "header"
        name: "Request-ID"
        description: "Unique identifier request generate by merchant, format: 16 integer"
        type: string
        required: false
      - in: "header"
        name: "Timestamp"
        description: "Timestamp generated by merchant in ISO 8601 format: yyyy-MM-ddTHH:mm:ssZ e.g."
        type: string
        required: false
      - in: "header"
        name: "Signature"
        description: "Signature is used by Merchant to verify that your request is not altered by attackers"
        type: string
        required: false
      - in: "header"
        name: "Authorization"
        description: "Using bearer authorization"
        type: string
        required: false
      - in: "body"
        name: "body"
        description: ""
        required: true
        schema: 
          $ref: "#/definitions/callbackregister"
      responses:
        "201":
          description: "Success"
 
  /register/status:   
    post:
      tags:
      - "API Reference Register"
      summary: ""
      description: ""
      operationId: ""
      consumes:
      - "application/json"
      - "application/xml"
      produces:
      - "application/xml"
      - "application/json"
      parameters:
      - in: "header"
        name: "Content-Type"
        description: "Content of your request body. e.g: application/json"
        type: string
        required: false
      - in: "header"
        name: "Request-ID"
        description: "Unique identifier request generate by merchant, format: 16 integer"
        type: string
        required: false
      - in: "header"
        name: "Timestamp"
        description: "Timestamp generated by merchant in ISO 8601 format: yyyy-MM-ddTHH:mm:ssZ e.g."
        type: string
        required: false
      - in: "header"
        name: "Signature"
        description: "Signature is used by Merchant to verify that your request is not altered by attackers"
        type: string
        required: false
      - in: "header"
        name: "Authorization"
        description: "Using bearer authorization"
        type: string
        required: false
      - in: "body"
        name: "body"
        description: ""
        required: true
        schema: 
          $ref: "#/definitions/registerstatus"
      responses:
        "201":
          description: "Success"
        "422":
          description: "Invalid Param"
        "500":
          description: "Server Error"
        "401":
          description: "Invalid auth"
  
  /doc-signing:   
    post:
      tags:
      - "Document Signing"
      summary: ""
      description: ""
      operationId: ""
      consumes:
      - "application/json"
      - "application/xml"
      produces:
      - "application/xml"
      - "application/json"
      parameters:
      - in: "header"
        name: "Content-Type"
        description: "Content of your request body. e.g: application/json"
        type: string
        required: false
      - in: "header"
        name: "Request-ID"
        description: "Unique identifier request generate by merchant, format: 16 integer"
        type: string
        required: false
      - in: "header"
        name: "Timestamp"
        description: "Timestamp generated by merchant in ISO 8601 format: yyyy-MM-ddTHH:mm:ssZ e.g."
        type: string
        required: false
      - in: "header"
        name: "Signature"
        description: "Signature is used by Merchant to verify that your request is not altered by attackers"
        type: string
        required: false
      - in: "header"
        name: "Authorization"
        description: "Using bearer authorization"
        type: string
        required: false
      - in: "body"
        name: "body"
        description: ""
        required: true
        schema: 
          $ref: "#/definitions/uploaddocument"
      responses:
        "201":
          description: "Success"
        "422":
          description: "Invalid Param"
        "401":
          description: "Invalid auth, Invalid signature"
  
  /callback/doc-signing:   
    post:
      tags:
      - "Document Signing"
      summary: ""
      description: ""
      operationId: ""
      consumes:
      - "application/json"
      - "application/xml"
      produces:
      - "application/xml"
      - "application/json"
      parameters:
      - in: "header"
        name: "Content-Type"
        description: "Content of your request body. e.g: application/json"
        type: string
        required: false
      - in: "header"
        name: "Request-ID"
        description: "Unique identifier request generate by merchant, format: 16 integer"
        type: string
        required: false
      - in: "header"
        name: "Timestamp"
        description: "Timestamp generated by merchant in ISO 8601 format: yyyy-MM-ddTHH:mm:ssZ e.g."
        type: string
        required: false
      - in: "header"
        name: "Signature"
        description: "Signature is used by Merchant to verify that your request is not altered by attackers"
        type: string
        required: false
      - in: "header"
        name: "Authorization"
        description: "Using bearer authorization"
        type: string
        required: false
      - in: "body"
        name: "body"
        description: ""
        required: true
        schema: 
          $ref: "#/definitions/callbackdocsigning"
      responses:
        "201":
          description: "Success"
  
  /doc-signing/status:   
    post:
      tags:
      - "Document Signing"
      summary: ""
      description: ""
      operationId: ""
      consumes:
      - "application/json"
      - "application/xml"
      produces:
      - "application/xml"
      - "application/json"
      parameters:
      - in: "header"
        name: "Content-Type"
        description: "Content of your request body. e.g: application/json"
        type: string
        required: false
      - in: "header"
        name: "Request-ID"
        description: "Unique identifier request generate by merchant, format: 16 integer"
        type: string
        required: false
      - in: "header"
        name: "Timestamp"
        description: "Timestamp generated by merchant in ISO 8601 format: yyyy-MM-ddTHH:mm:ssZ e.g."
        type: string
        required: false
      - in: "header"
        name: "Signature"
        description: "Signature is used by Merchant to verify that your request is not altered by attackers"
        type: string
        required: false
      - in: "header"
        name: "Authorization"
        description: "Using bearer authorization"
        type: string
        required: false
      - in: "body"
        name: "body"
        description: ""
        required: true
        schema: 
          $ref: "#/definitions/checkstatusdocsign"
      responses:
        "201":
          description: "Success"
        "401":
          description: "Invalid auth, Invalid signature"
          
  /register/otp:   
    post:
      tags:
      - "OTP"
      summary: ""
      description: ""
      operationId: ""
      consumes:
      - "application/json"
      - "application/xml"
      produces:
      - "application/xml"
      - "application/json"
      parameters:
      - in: "header"
        name: "Content-Type"
        description: "Content of your request body. e.g: application/json"
        type: string
        required: false
      - in: "header"
        name: "Request-ID"
        description: "Unique identifier request generate by merchant, format: 16 integer"
        type: string
        required: false
      - in: "header"
        name: "Timestamp"
        description: "Timestamp generated by merchant in ISO 8601 format: yyyy-MM-ddTHH:mm:ssZ e.g."
        type: string
        required: false
      - in: "header"
        name: "Signature"
        description: "Signature is used by Merchant to verify that your request is not altered by attackers"
        type: string
        required: false
      - in: "header"
        name: "Authorization"
        description: "Using bearer authorization"
        type: string
        required: false
      - in: "body"
        name: "body"
        description: ""
        required: true
        schema: 
          $ref: "#/definitions/requestotp"
      responses:
        "201":
          description: "Success"
        "422":
          description: "Invalid param"
        "401":
          description: "Invalid auth, Invalid signature"
  
  /register/otp-resend:   
    post:
      tags:
      - "OTP"
      summary: ""
      description: ""
      operationId: ""
      consumes:
      - "application/json"
      - "application/xml"
      produces:
      - "application/xml"
      - "application/json"
      parameters:
      - in: "header"
        name: "Content-Type"
        description: "Content of your request body. e.g: application/json"
        type: string
        required: false
      - in: "header"
        name: "Request-ID"
        description: "Unique identifier request generate by merchant, format: 16 integer"
        type: string
        required: false
      - in: "header"
        name: "Timestamp"
        description: "Timestamp generated by merchant in ISO 8601 format: yyyy-MM-ddTHH:mm:ssZ e.g."
        type: string
        required: false
      - in: "header"
        name: "Signature"
        description: "Signature is used by Merchant to verify that your request is not altered by attackers"
        type: string
        required: false
      - in: "header"
        name: "Authorization"
        description: "Using bearer authorization"
        type: string
        required: false
      - in: "body"
        name: "body"
        description: ""
        required: true
        schema: 
          $ref: "#/definitions/resendotp"
      responses:
        "201":
          description: "Success"
        "422":
          description: "Invalid param"
        "400":
          description: "Limit time request, Black after request reached limit"
        "401":
          description: "Invalid auth, Invalid signature"
          
  /register/register_id/otp-validation:   
    post:
      tags:
      - "OTP"
      summary: ""
      description: ""
      operationId: ""
      consumes:
      - "application/json"
      - "application/xml"
      produces:
      - "application/xml"
      - "application/json"
      parameters:
      - in: "header"
        name: "Content-Type"
        description: "Content of your request body. e.g: application/json"
        type: string
        required: false
      - in: "header"
        name: "Request-ID"
        description: "Unique identifier request generate by merchant, format: 16 integer"
        type: string
        required: false
      - in: "header"
        name: "Timestamp"
        description: "Timestamp generated by merchant in ISO 8601 format: yyyy-MM-ddTHH:mm:ssZ e.g."
        type: string
        required: false
      - in: "header"
        name: "Signature"
        description: "Signature is used by Merchant to verify that your request is not altered by attackers"
        type: string
        required: false
      - in: "header"
        name: "Authorization"
        description: "Using bearer authorization"
        type: string
        required: false
      - in: "body"
        name: "body"
        description: ""
        required: true
        schema: 
          $ref: "#/definitions/otpvalidation"
      responses:
        "201":
          description: "Success"
        "422":
          description: "Invalid param"
        "400":
          description: "Black after request reached limit"
        "401":
          description: "Invalid auth, Invalid signature"
            
definitions:
  registerfullAPI:
    type: object
    properties:
      reference_number:
        type: string
        example: "MDRAA0000000001"
      channel_id:
        type: string
        example: "001"
      info:
        type: string
        example: "randomstring"
      email:
        type: string
        example: "dhimas.email@gmail.com"
      phone:
        type: string
        example: "081320210100"
      nik:
        type: string
        example: "3302185203930001"
      name:
        type: string
        example: "Dhimas Pramudya"
      dob:
        type: string
        example: "1993-03-12"
      selfie:
        type: object
        example: "data:image/png;base64, ...."
      identity:
        type: object
        example: "data:image/png;base64, ...."
  
  registerLandingPageFromPrivyID:
    type: object
    properties:
      reference_number:
        type: string
        example: "MDRAA0000000001"
      channel_id:
        type: string
        example: "001"
      info:
        type: string
        example: "randomstring"
      email:
        type: string
        example: "dhimas.email@gmail.com"
      phone:
        type: string
        example: "081320210100"
      nik:
        type: string
        example: "3302185203930001"
      name:
        type: string
        example: "Dhimas Pramudya"
      dob:
        type: string
        example: "1993-03-12"
      selfie:
        type: object
        example: "data:image/png;base64, ...."
      identity:
        type: object
        example: "data:image/png;base64, ...."
        
  callbackregister:
    type: object
    properties:
      reference_number:
        type: string
        example: "MDRAA0000000014"
      register_token:
        type: string
        example: "9faa79c389b35be0f132dd9cc5504b63"
      channel_id:
        type: string
        example: "001"
      info:
        type: string
        example: "randomstring"
      ktp:
        type: object
        example: "null"
      selfie:
        type: object
        example: "selfie.jpg"
      supporting_document:
        type: object
        example: "null"
        
  registerstatus:
    type: object
    properties:
      reference_number:
        type: string
        example: "MDRAA0000000014"
      channel_id:
        type: string
        example: "002"
      info:
        type: string
        example: "randomstring"
      register_token:
        type: string
        example: "AAAasmQ0lNQjAyOkdYRE9CTFhXQlFKSkxRWlFVWU9PUkJNVEtJ"
  
  uploaddocument:
    type: object
    properties:
      reference_number:
        type: string
        example: "MDRAA0000000001"
      channel_id:
        type: string
        example: "001"
      info:
        type: string
        example: "randomstring"
      doc_owner:
        type: object
        properties:
          privyId: 
            type: string
            example: "MDR0101"
          enterpriseToken:
            type: string
            example: "80f9a96c0d87940daef8d5e98d03e616a948495b"
      document: 
        type: array
        items:
          type: object
          properties:
            document_file:
              type: object
              example: "data:file/pdf;base64,...."
            document_name:
              type: string
              example: "document’s pdf"
            sign_type:
              type: integer
              example: "1"
            notify_user:
              type: integer
              example: "1"
            sign_process:
              type: integer
              example: "0" 
            barcode_position:
              type: integer
              example: null
      recipients:
        type: array
        items:
          type: object
          properties:
            user_type:
              type: integer
              example: "0"
            autosign:
              type: integer
              example: "1"
            id_user:
              type: string
              example: "DHI0742"
            signer_type:
              type: string
              example: "signer"
            enterpriseToken:
              type: string
              example: "80f9a96c0d87940daef8d5e98d03e616a948495b"
            posX:
              type: integer
              example: "100"
            posY:
              type: integer
              example: "100"
            signPage:
              type: integer
              example: "2"
              
  callbackdocsigning:
    type: object
    properties:
      reference_number:
        type: string
        example: "MDRAA0000000001"
      channel_id:
        type: string
        example: "001"
      info:
        type: string
        example: "randomstring"
      status:
        type: string
        example: "completed"
      message:
        type: string
        example: "Success"
      document_token:
        type: string
        example: "e478cd757de0e7527c2c71857cad4310"
      signed_document:
        type: string
        example: "data:file/pdf;base64,...."
  
  checkstatusdocsign:
    type: object
    properties:
      reference_number:
        type: string
        example: "MDRAA0000000001"
      channel_id:
        type: string
        example: "001"
      info:
        type: string
        example: "randomstring"
      document_token:
        type: string
        example: "e478cd757de0e7527c2c71857cad4310"
  
  requestotp:
    type: object
    properties:
      reference_number:
        type: string
        example: "MDRAA0000000001"
      channel_id:
        type: string
        example: "001"
      info:
        type: string
        example: "randomstring"
      otp_type:
        type: integer
        example: "1"
      token:
        type: string
        example: "f40a20bb2ac0aac07e34351b2a2e5f58s"
      otp_channel:
        type: integer
        example: "1"
      privy_id:
        type: string
        example: "PAT0472"
        
  resendotp:
    type: object
    properties:
      transaction_id:
        type: string
        example: "0cf4680edb36a96e06fb6b3e9c200b1a"
        
  otpvalidation:
    type: object
    properties:
      reference_number:
        type: string
        example: "MDRAA0000000009"
      transaction_id:
        type: string
        example: "0cf4680edb36a96e06fb6b3e9c200b1a"
